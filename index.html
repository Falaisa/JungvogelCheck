<script>
    async function speichernSichtung() {
        const plz = document.getElementById("plz").value;
        const datum = document.getElementById("datum").value;

        const neueSichtung = { plz, datum };

        let sichtungen = await fetch('sichtungen.json').then(res => res.json());
        sichtungen.push(neueSichtung);

        await fetch('sichtungen.json', {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(sichtungen)
        });

        alert("Sichtung gespeichert!");
    }

    document.getElementById("sichtung-form").addEventListener("submit", function(event) {
        event.preventDefault();
        speichernSichtung();
    });
</script>
